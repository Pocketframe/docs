"use strict";(self.webpackChunkpocketframe_docs=self.webpackChunkpocketframe_docs||[]).push([[7945],{7858:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"pocketORM/pagination","title":"Pagination","description":"Introduction","source":"@site/docs/pocketORM/pagination.md","sourceDirName":"pocketORM","slug":"/pocketORM/pagination","permalink":"/docs/docs/pocketORM/pagination","draft":false,"unlisted":false,"editUrl":"https://github.com/pocketframe/docs/tree/main/docs/pocketORM/pagination.md","tags":[],"version":"current","sidebarPosition":26,"frontMatter":{"sidebar_position":26},"sidebar":"tutorialSidebar","previous":{"title":"Dataset","permalink":"/docs/docs/pocketORM/dataset"},"next":{"title":"Relationships","permalink":"/docs/docs/pocketORM/relationship"}}');var s=t(4848),i=t(8453);const a={sidebar_position:26},o="Pagination",d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Usage",id:"usage",level:2},{value:"Paginator",id:"paginator",level:3},{value:"Cursor Paginator",id:"cursor-paginator",level:3},{value:"Available Methods",id:"available-methods",level:2},{value:"Paginator Methods",id:"paginator-methods",level:3},{value:"Cursor Paginator Methods",id:"cursor-paginator-methods",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"pagination",children:"Pagination"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:'Pagination is a technique for dividing a document into discrete pages, known as "pages". The pages may be accessed sequentially or randomly. The purpose of pagination is to break up the content of a document into smaller, more manageable chunks, making it easier for users to navigate and find the information they are looking for.'}),"\n",(0,s.jsxs)(n.p,{children:["Pocketframe comes with a built-in pagination system that allows you to paginate the results of a query. By default, Pocketframe uses ",(0,s.jsx)(n.a,{href:"https://getbootstrap.com/docs/5.3/getting-started/introduction/",children:"Bootstrap"})," and ",(0,s.jsx)(n.a,{href:"https://tailwindcss.com/docs/installation/using-vite",children:"TailwindCSS"})," for pagination."]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Pocketframe comes with a built-in pagination system that allows you to paginate the results of a query. By default, Pocketframe uses ",(0,s.jsx)(n.a,{href:"https://getbootstrap.com/docs/5.3/getting-started/introduction/",children:"Bootstrap"})," and ",(0,s.jsx)(n.a,{href:"https://tailwindcss.com/docs/installation/using-vite",children:"TailwindCSS"})," for pagination. All configuration for pagination is done in the ",(0,s.jsx)(n.code,{children:"config/pagination.php"})," file."]}),"\n",(0,s.jsx)(n.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,s.jsx)(n.p,{children:"Then in you .env file, you can set the following variables:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-env",metastring:"showLineNumbers",children:"PAGINATION_FRAMEWORK=tailwind\n\nPAGINATION_ACTIVE_BG=blue-600\nPAGINATION_ACTIVE_TEXT=white\nPAGINATION_INACTIVE_BG=gray-100\nPAGINATION_INACTIVE_TEXT=gray-700\nPAGINATION_HOVER_BG=blue-500\nPAGINATION_INFO_TEXT=blue-600\n"})}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(n.p,{children:["Pocketframe provides two types of pagination which are ",(0,s.jsx)(n.code,{children:"Paginator"})," and ",(0,s.jsx)(n.code,{children:"CursorPaginator"}),". The ",(0,s.jsx)(n.code,{children:"Paginator"})," is used to paginate the results of a query by using the ",(0,s.jsx)(n.code,{children:"limit"})," and ",(0,s.jsx)(n.code,{children:"offset"})," parameters. The ",(0,s.jsx)(n.code,{children:"CursorPaginator"})," is used to paginate the results of a query by using the ",(0,s.jsx)(n.code,{children:"cursor"})," parameter."]}),"\n",(0,s.jsx)(n.h3,{id:"paginator",children:"Paginator"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Paginator"})," is used to paginate the results of a query by using the ",(0,s.jsx)(n.code,{children:"limit"})," and ",(0,s.jsx)(n.code,{children:"offset"})," parameters. The ",(0,s.jsx)(n.code,{children:"Paginator"})," class is located in the ",(0,s.jsx)(n.code,{children:"Pocketframe\\PocketORM\\Pagination\\Paginator"})," namespace. To use the paginator, you need to call the ",(0,s.jsx)(n.code,{children:"paginate()"})," method on the query engine. By default, paginate is set to 15 records per page. You can change the number of records per page by passing the number of records as the parameter to the ",(0,s.jsx)(n.code,{children:"paginate()"})," method."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nnamespace App\\Http\\Controllers\\Web;\n\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\nclass CategoryController\n{\n  /**\n   *  Display a listing of the resource.\n   *\n   * @return Response\n  */\n  public function index(): Response\n  {\n    $categories = QueryEngine::for(Category::class)\n      ->paginate(10);\n\n    return Response::view('admin.categories.index', [\n      'categories' => $categories\n      ]);\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will return a paginated response with 10 records per page. You can access the pagination links by using the ",(0,s.jsx)(n.code,{children:"@paginate"})," directive or ",(0,s.jsx)(n.code,{children:'<x-paginate :dataset="$categories" />'})," in your view. The ",(0,s.jsx)(n.code,{children:"@paginate"})," directive takes the dataset as the first parameter and the second parameter as the mode. This only applies if you are using cursor pagination."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:' <div>\n    <table class="w-full text-left border-collapse">\n      <thead>\n        <tr class="bg-gray-200">\n          <th class="p-3">#</th>\n          <th class="p-3">Category</th>\n          <th class="p-3">Description</th>\n        </tr>\n      </thead>\n      <tbody>\n        @foreach($categories as $category)\n        <tr class="border-t">\n          <td class="p-3">{{ $loop->iteration }}</td>\n          <td class="p-3">\n              {{ $category->category_name }}\n          </td>\n          <td class="p-3">\n            {{ $category->description }}\n          </td>\n        </tr>\n        @endforeach\n      </tbody>\n    </table>\n\n    \x3c!-- Pagination --\x3e\n    <x-paginate :dataset="$categories" />\n  </div>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["or you can use the ",(0,s.jsx)(n.code,{children:"@paginate"})," directive in your pocket view file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:" <div>\n    <table>\n      \x3c!-- ... --\x3e\n    </table>\n\n    \x3c!-- Pagination --\x3e\n    @paginate($categories)\n  </div>\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"danger",children:(0,s.jsxs)(n.p,{children:["If you are using ",(0,s.jsx)(n.code,{children:"cursor pagination"}),", you must pass the second parameter as ",(0,s.jsx)(n.code,{children:"cursor"}),". If you are using the ",(0,s.jsx)(n.code,{children:"paginate"})," there is no need to pass the second parameter."]})}),"\n",(0,s.jsx)(n.h3,{id:"cursor-paginator",children:"Cursor Paginator"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"CursorPaginator"})," is used to paginate the results of a query by using the ",(0,s.jsx)(n.code,{children:"cursor"})," parameter. The ",(0,s.jsx)(n.code,{children:"CursorPaginator"})," class is located in the ",(0,s.jsx)(n.code,{children:"Pocketframe\\PocketORM\\Pagination\\CursorPaginator"})," namespace. To use the paginator, you need to call the ",(0,s.jsx)(n.code,{children:"cursorPaginate()"})," method on the query engine. By default, cursor pagination is set to 15 records per page. You can change the number of records per page by passing the number of records as the parameter to the ",(0,s.jsx)(n.code,{children:"cursorPaginate()"})," method."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nnamespace App\\Http\\Controllers\\Web;\n\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\nclass CategoryController\n{\n  /**\n   *  Display a listing of the resource.\n   *\n   * @return Response\n  */\n  public function index(): Response\n  {\n    $categories = QueryEngine::for(Category::class)\n      ->cursorPaginate();\n\n    return Response::view('admin.categories.index', [\n      'categories' => $categories\n    ]);\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will return a paginated response with 15 records per page. You can access the pagination links by using the ",(0,s.jsx)(n.code,{children:"@paginate"})," directive or ",(0,s.jsx)(n.code,{children:'<x-paginate :dataset="$categories" :mode="cursor" />'})," in your view. The ",(0,s.jsx)(n.code,{children:"@paginate"})," directive or ",(0,s.jsx)(n.code,{children:'<x-paginate :dataset="$categories" :mode="cursor" />'})," takes the dataset as the first parameter and the second parameter as the mode. This only applies if you are using cursor pagination."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",metastring:"showLineNumbers",children:' <div>\n    <table>\n      \x3c!-- ... --\x3e\n    </table>\n\n    \x3c!-- Pagination --\x3e\n     <x-paginate :dataset="$categories" mode="cursor" />\n     \x3c!-- or --\x3e\n    @paginate($categories, \'cursor\')\n  </div>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,s.jsx)(n.h3,{id:"paginator-methods",children:"Paginator Methods"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Paginator"})," has the following methods:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"detectBaseUrl()"})}),(0,s.jsx)(n.td,{children:"Detects the base URL for the pagination links based on the current request URI."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"data()"})}),(0,s.jsx)(n.td,{children:"Returns the paginated data as an array. If the data is already an array, it is returned as is. Otherwise, it is converted to an array."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"currentPage()"})}),(0,s.jsx)(n.td,{children:"Returns the current page number."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"lastPage()"})}),(0,s.jsx)(n.td,{children:"Returns the last page number."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total()"})}),(0,s.jsx)(n.td,{children:"Returns the total number of items."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"perPage()"})}),(0,s.jsx)(n.td,{children:"Returns the number of items per page."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"pages()"})}),(0,s.jsx)(n.td,{children:"Returns the pages as an array."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"getIterator()"})}),(0,s.jsx)(n.td,{children:"Returns the iterator."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"processStyles()"})}),(0,s.jsx)(n.td,{children:"Processes the styles for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderPages()"})}),(0,s.jsx)(n.td,{children:"Renders the pagination links for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderFrameworkSpecificPages()"})}),(0,s.jsx)(n.td,{children:"Renders the pagination links for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderTailwindPagination()"})}),(0,s.jsx)(n.td,{children:"Renders the pagination links for the Tailwind CSS framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderBootstrapPagination()"})}),(0,s.jsx)(n.td,{children:"Renders the pagination links for the Bootstrap framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderPreviousLink()"})}),(0,s.jsx)(n.td,{children:"Renders the previous link for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderNextLink()"})}),(0,s.jsx)(n.td,{children:"Renders the next link for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderPageLinks()"})}),(0,s.jsx)(n.td,{children:"Renders the page links for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"buildPageLink()"})}),(0,s.jsx)(n.td,{children:"Builds the page link for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"buildLink()"})}),(0,s.jsx)(n.td,{children:"Builds the link for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"getInfoText()"})}),(0,s.jsx)(n.td,{children:"Gets the info text for the active framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"getAjaxScript()"})}),(0,s.jsx)(n.td,{children:"Gets the ajax script for the active framework."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"cursor-paginator-methods",children:"Cursor Paginator Methods"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"CursorPaginator"})," has the following methods:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"detectBaseUrl()"})}),(0,s.jsx)(n.td,{children:"Detects the base URL for the pagination links based on the current request URI."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"data()"})}),(0,s.jsx)(n.td,{children:"Returns the current page data."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nextCursor()"})}),(0,s.jsx)(n.td,{children:"Returns the cursor for the next page."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"previousCursor()"})}),(0,s.jsx)(n.td,{children:"RReturns the cursor for the previous page."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"hasNext()"})}),(0,s.jsx)(n.td,{children:"Returns true if there is a next page, false otherwise."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"hasPrevious()"})}),(0,s.jsx)(n.td,{children:"Returns true if there is a previous page, false otherwise."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"perPage()"})}),(0,s.jsx)(n.td,{children:"Returns the number of items per page."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"getIterator()"})}),(0,s.jsx)(n.td,{children:"Returns an iterator for the current page data."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"renderCursor()"})}),(0,s.jsx)(n.td,{children:"Renders the full Prev/Next + info for the pagination."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"buildFrameworkControls()"})}),(0,s.jsx)(n.td,{children:"Builds the Prev/Next controls for a given framework."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"buildLink()"})}),(0,s.jsx)(n.td,{children:"Builds a single Prev/Next link (or disabled span) for a given cursor."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"getAjaxScript()"})}),(0,s.jsx)(n.td,{children:"Returns the Ajax script."})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["With the ",(0,s.jsx)(n.code,{children:"Paginator"})," and ",(0,s.jsx)(n.code,{children:"CursorPaginator"})," classes, you can easily paginate your data and display it in your views. You can also customize the pagination links and styles to match your application's design and branding from the .env file."]})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);