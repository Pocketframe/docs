"use strict";(self.webpackChunkpocketframe_docs=self.webpackChunkpocketframe_docs||[]).push([[2951],{3227:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"pocketORM/dataset","title":"Dataset","description":"Introduction","source":"@site/docs/pocketORM/dataset.md","sourceDirName":"pocketORM","slug":"/pocketORM/dataset","permalink":"/docs/docs/pocketORM/dataset","draft":false,"unlisted":false,"editUrl":"https://github.com/pocketframe/docs/tree/main/docs/pocketORM/dataset.md","tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"sidebar_position":25},"sidebar":"tutorialSidebar","previous":{"title":"Query Engine","permalink":"/docs/docs/pocketORM/query-engine"},"next":{"title":"Pagination","permalink":"/docs/docs/pocketORM/pagination"}}');var r=t(4848),a=t(8453);const o={sidebar_position:25},i="Dataset",c={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Available Methods",id:"available-methods",level:2},{value:"<code>all()</code>",id:"all",level:3},{value:"<code>toArray()</code>",id:"toarray",level:3},{value:"<code>first()</code>",id:"first",level:3},{value:"<code>last()</code>",id:"last",level:3},{value:"<code>map()</code>",id:"map",level:3},{value:"<code>filter()</code>",id:"filter",level:3},{value:"<code>reduce()</code>",id:"reduce",level:3},{value:"<code>groupBy()</code>",id:"groupby",level:3},{value:"<code>partition()</code>",id:"partition",level:3},{value:"<code>pluck()</code>",id:"pluck",level:3},{value:"<code>sort()</code>",id:"sort",level:3},{value:"<code>count()</code>",id:"count",level:3},{value:"<code>sum()</code>",id:"sum",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"dataset",children:"Dataset"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"Pocketframe\\PocketORM\\Essentials\\DataSet"})," class is a collection of ",(0,r.jsx)(n.code,{children:"Pocketframe\\PocketORM\\Entity\\Entity"})," objects. It is used to represent a collection of records fetched from the database. It is an iterable object, so you can use it in a ",(0,r.jsx)(n.code,{children:"foreach"})," loop. DataSet is a wrapper around an array of entities and has number of methods to manipulate the data. All dataset methods can be called on top of the QueryEngine methods."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["If you want to learn more about the QueryEngine, you can read the ",(0,r.jsx)(n.a,{href:"/docs/docs/pocketORM/query-engine",children:"QueryEngine documentation"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,r.jsx)(n.p,{children:"Dataset provides a number of methods to manipulate the data."}),"\n",(0,r.jsx)(n.h3,{id:"all",children:(0,r.jsx)(n.code,{children:"all()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"all()"})," method returns all the records from the dataset as an array."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nnamespace App\\Http\\Controllers\\Web;\n\nuse App\\Entities\\Category;\nuse Pocketframe\\Http\\Response;\nuse Pocketframe\\Http\\Request;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\nclass CategoryController\n{\n  /**\n   *  Display a listing of the resource.\n   */\n  public function index(Request $request): Response\n  {\n    $categories = QueryEngine::for(Category::class)\n    ->get()\n    ->all();\n\n    return Response::view('admin.categories.index', [\n      'categories' => $categories\n    ]);\n\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"toarray",children:(0,r.jsx)(n.code,{children:"toArray()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"toArray()"})," method returns the dataset as an array. The ",(0,r.jsx)(n.code,{children:"toArray()"})," method is useful when you want to convert the dataset to an array."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->toArray();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"first",children:(0,r.jsx)(n.code,{children:"first()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"first()"})," method returns the first record from the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\n\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$category = QueryEngine::for(Category::class)\n  ->first();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"last",children:(0,r.jsx)(n.code,{children:"last()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"last()"})," method returns the last record from the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$category = QueryEngine::for(Category::class)\n  ->last();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"map",children:(0,r.jsx)(n.code,{children:"map()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"map()"})," method returns an array of the results of calling a callback function on each element of the dataset. The ",(0,r.jsx)(n.code,{children:"map()"})," method is useful when you want to transform the data in the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->map(function ($category) {\n    return strtoupper($category->name);\n  });\n"})}),"\n",(0,r.jsx)(n.h3,{id:"filter",children:(0,r.jsx)(n.code,{children:"filter()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"filter()"})," method returns a new dataset containing only the elements that pass the test implemented by the provided function. The ",(0,r.jsx)(n.code,{children:"filter()"})," method is useful when you want to filter the data in the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->filter(function ($category) {\n    return $category->category_name === 'Bridget Watsica';\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"reduce",children:(0,r.jsx)(n.code,{children:"reduce()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"reduce()"})," method applies a function against an accumulator and each element in the dataset (from left to right) to reduce it to a single value. The ",(0,r.jsx)(n.code,{children:"reduce()"})," method is useful when you want to reduce the data in the dataset to a single value."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$total = QueryEngine::for(Category::class)\n  ->get()\n  ->reduce(function ($total, $category) {\n    return $total + $category->id;\n }, 0);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"groupby",children:(0,r.jsx)(n.code,{children:"groupBy()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"groupBy()"})," method groups the elements of the dataset by the specified key. The ",(0,r.jsx)(n.code,{children:"groupBy()"})," method is useful when you want to group the data in the dataset by a specific key."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\n use App\\Entities\\Category;\n use Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n $categories = QueryEngine::for(Category::class)\n ->get()\n ->groupBy(function($category){\n   return $category->category_name;\n });\n"})}),"\n",(0,r.jsx)(n.h3,{id:"partition",children:(0,r.jsx)(n.code,{children:"partition()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"partition()"})," method partitions the dataset into two arrays, based on a predicate function. The ",(0,r.jsx)(n.code,{children:"partition()"})," method is useful when you want to partition the data in the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->partition(function ($category) {\n    return $category->id === 3;\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pluck",children:(0,r.jsx)(n.code,{children:"pluck()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"pluck()"})," method returns an array of the values of a single field from the dataset. The ",(0,r.jsx)(n.code,{children:"pluck()"})," method is useful when you want to get the values of a single field from the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->pluck('id');\n"})}),"\n",(0,r.jsx)(n.h3,{id:"sort",children:(0,r.jsx)(n.code,{children:"sort()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"sort()"})," method sorts the dataset in ascending order by the specified key. The ",(0,r.jsx)(n.code,{children:"sort()"})," method is useful when you want to sort the data in the dataset. It does not modify the original DataSet; instead, it returns a new, sorted DataSet."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->sort(function ($a, $b) {\n    return $b->id <=> $a->id;\n  });\n\n foreach ($categories as $category) {\n   echo $category->category_name;\n }\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"This function assigns new keys to the elements in array. It will remove any existing keys that may have been assigned, rather than just reordering the keys."})}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsx)(n.p,{children:"Returning non-integer values from the comparison function, such as float, will result in an internal cast to int of the callback's return value. So values such as 0.99 and 0.1 will both be cast to an integer value of 0, which will compare such values as equal."})}),"\n",(0,r.jsx)(n.h3,{id:"count",children:(0,r.jsx)(n.code,{children:"count()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"count()"})," method returns the number of elements in the dataset. The ",(0,r.jsx)(n.code,{children:"count()"})," method is useful when you want to get the number of elements in the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->count();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"sum",children:(0,r.jsx)(n.code,{children:"sum()"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"sum()"})," method returns the sum of the values in the dataset. The ",(0,r.jsx)(n.code,{children:"sum()"})," method is useful when you want to get the sum of the values in the dataset."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\nuse App\\Entities\\Category;\nuse Pocketframe\\PocketORM\\QueryEngine\\QueryEngine;\n\n$categories = QueryEngine::for(Category::class)\n  ->get()\n  ->sum('id');\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(6540);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);