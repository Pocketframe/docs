"use strict";(self.webpackChunkpocketframe_docs=self.webpackChunkpocketframe_docs||[]).push([[314],{6172:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"core/bootstrapping","title":"Bootstrapping","description":"Pocketframe is designed to be lightweight and flexible, allowing developers to customize the bootstrapping process. The bootstrapping process initializes the application by loading configuration files, binding services, setting up the environment, and preparing the application to handle requests.","source":"@site/docs/core/bootstrapping.md","sourceDirName":"core","slug":"/core/bootstrapping","permalink":"/docs/docs/core/bootstrapping","draft":false,"unlisted":false,"editUrl":"https://github.com/pocketframe/docs/tree/main/docs/core/bootstrapping.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Core Concepts","permalink":"/docs/docs/core/core-concepts"},"next":{"title":"Routing","permalink":"/docs/docs/essentials/routing"}}');var t=i(4848),s=i(8453);const o={sidebar_position:5},a="Bootstrapping",l={},c=[{value:"Bootstrapping Process",id:"bootstrapping-process",level:2},{value:"Registering Middleware",id:"registering-middleware",level:3},{value:"Registering Container Bindings",id:"registering-container-bindings",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"bootstrapping",children:"Bootstrapping"})}),"\n",(0,t.jsx)(n.p,{children:"Pocketframe is designed to be lightweight and flexible, allowing developers to customize the bootstrapping process. The bootstrapping process initializes the application by loading configuration files, binding services, setting up the environment, and preparing the application to handle requests."}),"\n",(0,t.jsx)(n.h2,{id:"bootstrapping-process",children:"Bootstrapping Process"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Initialization:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create a new Container and Router instance."}),"\n",(0,t.jsx)(n.li,{children:"Load routes (web and API) via require statements."}),"\n",(0,t.jsxs)(n.li,{children:["Load environment variables from a ",(0,t.jsx)(n.code,{children:".env"})," file."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Error Handling:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set a global exception handler using ",(0,t.jsx)(n.code,{children:"ExceptionHandler"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Middleware & Bindings:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Register middleware with the router."}),"\n",(0,t.jsx)(n.li,{children:"Register framework-level bindings (e.g., exception handling, database, logging) using a base container register."}),"\n",(0,t.jsxs)(n.li,{children:["Register application-specific bindings via ",(0,t.jsx)(n.code,{children:"ContainerRegister"})," located in ",(0,t.jsx)(n.code,{children:"app/container/ContainerRegister"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Database Setup:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Configure the database connection and retrieve the instance."}),"\n",(0,t.jsx)(n.li,{children:"Bind the database\u2019s container dependency."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Finalization:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Set the container instance globally ensuring consistent dependency resolution throughout the application."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"registering-middleware",children:"Registering Middleware"}),"\n",(0,t.jsx)(n.p,{children:"Middlewares can be registered in the config/middleware.php file and will be automatically registered with the router."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\n\nreturn [\n  /**\n   * Global middleware that runs on every request\n   *\n   * @var array<class-string>\n   */\n  'global' => [\n    CsrfMiddleware::class,\n    SessionMiddleware::class,\n  ],\n  /**\n   * Middleware groups\n   * These middleware groups are applied to the routes in the web.php file\n   *\n   * @var array<string, array<class-string>>\n   */\n  'groups' => [\n    'web' => [\n      // AuthMiddleware::class,\n    ],\n    /**\n     * Middleware for API routes\n     *\n     * These middleware groups are applied to the routes in the api.php file\n     * @var array<class-string>\n     */\n    'api' => [\n      // ApiAuthMiddleware::class,\n    ],\n  ],\n];\n"})}),"\n",(0,t.jsx)(n.h3,{id:"registering-container-bindings",children:"Registering Container Bindings"}),"\n",(0,t.jsxs)(n.p,{children:["Container bindings are registered in the ",(0,t.jsx)(n.code,{children:"app/container/ContainerRegister.php"})," file. This file is automatically loaded by the framework and is where you can register your application-specific bindings."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:"<?php\n\nnamespace App\\Container;\n\nuse Pocketframe\\Container\\Container;\nuse Pocketframe\\Container\\ContainerRegister as BaseContainerRegister;\n\nclass ContainerRegister extends BaseContainerRegister\n{\n  public function register(Container $container)\n  {\n    $container->bind(PostService::class, function ($container) {\n      $userService = $container->get(UserService::class);\n      return new PostService($userService);\n    });\n\n  }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Finally, the container is set globally to ensure consistent dependency resolution throughout the application."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(6540);const t={},s=r.createContext(t);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);